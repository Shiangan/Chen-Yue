<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="æ—åª½é™³æœˆè€å¤«äººè¨ƒå‘Šå…¬å‘Šï¼Œè¿½æ€æœƒä¿¡æ¯ã€è¯çµ¡æ–¹å¼å’Œè‡´è´ˆèŠ±ç±ƒé¸é …ã€‚">
    <meta name="keywords" content="æ—åª½é™³æœˆè€å¤«äºº, è¨ƒå‘Š, è¿½æ€æœƒ, è‡´è´ˆèŠ±ç±ƒ, è‡´æ„">
    <meta property="og:locale" content="zh_TW">
    <meta name="author" content="ç¥¥å®‰ç”Ÿå‘½">
    <link rel="icon" href="image/logo.png" type="image/png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="æ—åª½é™³æœˆè€å¤«äººé›²ç«¯è¨ƒå‘Š-ç¥¥å®‰">
    <meta property="og:description" content="è¿½æ€æ—åª½é™³æœˆè€å¤«äººè¨ƒå‘Š,è¡·å¿ƒæ„Ÿè¬è¦ªå‹çš„æ…°å•èˆ‡é™ªä¼´,æ²»å–ªæœŸé–“,å› æ™‚é–“æœ‰é™,ä»¥é›»å­è¿½æ€è¨Šæ¯,é‚€è«‹æ‚¨ä¸€åŒåƒèˆ‡æ—é™³æœˆå¤«äººçš„äººç”Ÿç•¢æ¥­å…¸ç¦®">
    <meta property="og:image" content="https://24hour.xn--kpry57d/Chen-Yue/image/Write.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:url" content="https://24hour.å°ç£/Chen-Yue">
    <meta property="og:type" content="website">
    <title>æ—åª½é™³æœˆè€å¤«äººè¨ƒèå…¬å‘Š</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link rel="stylesheet" href="obituary.css">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/css/lightbox.min.css" rel="stylesheet">
    
    <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Shadows+Into+Light&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=ZCOOL+QingKe+HuangYou&family=ZCOOL+KuaiLe&display=swap" rel="stylesheet">
</head>

<body>
    <audio id="background-music" autoplay muted loop playsinline preload="auto">
      <source src="Misson Part 1.mp3" type="audio/mp3">
      <source src="Misson Part 1.ogg" type="audio/ogg">
      æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´éŸ³è¨Šæ’­æ”¾ã€‚
    </audio>
    
    <header>
      <img src="image/logo.png" alt="ç¥¥å®‰ç”Ÿå‘½ Logo" class="logo" loading="lazy">
      <h1 class="no-break">æ—é™³æœˆå¤«äºº è¨ƒå‘Š</h1>
    </header>

    <main>
        <section class="main-photo-section">
            <img id="main-photo" src="images/IMG_5533.jpeg" alt="è¿½æ€ç…§ç‰‡" loading="lazy">
            <div id="life-story">
                <p class="fade-in-text" style="--delay:0s;"><strong>æˆ‘å€‘æ‘¯æ„›çš„è¦ªäºº æ—é™³æœˆå¤«äºº </strong></p>
                <p class="fade-in-text" style="--delay:0.3s;">
                    æ–¼æ°‘åœ‹114å¹´12æœˆ13æ—¥<br>
                    èµ°å®Œ90å¹´çš„äººç”Ÿæ—…ç¨‹ï¼Œ<br>
                    ç•™ä¸‹æˆ‘å€‘æ°¸æ†çš„è¿½æ€èˆ‡æ„Ÿæ©ã€‚
                </p>
                <p class="fade-in-text" style="--delay:0.6s;">
                    è¬¹æ“‡æ–¼<br>
                    æ°‘åœ‹115å¹´01æœˆ04æ—¥ï¼ˆæ˜ŸæœŸæ—¥ï¼‰<br>
                    æ–¼ å°åŒ—å¸‚ç«‹æ®¯å„€é¤¨ï¼» è‡³å¿ å››å»³ ï¼½<br>
                    èˆ‰è¾¦å‘Šåˆ¥è¿½æ€å¥ ç¦®
                </p>
                <p class="fade-in-text" style="--delay:1.2s;">
                    æ•¬é‚€æ‚¨<br>
                    ä¸€åŒåƒèˆ‡æ—é™³æœˆè€å¤«äººçš„ç•¢æ¥­å…¸ç¦®<br>
                </p>
                <p class="fade-in-text" style="--delay:1.2s;">
                    æ„Ÿè¬æ‚¨çš„é—œæ‡·èˆ‡é™ªä¼´<br>
                    å®¶äººå€‘éŠ˜è¨˜åœ¨å¿ƒï¼Œè¡·å¿ƒæ„Ÿè¬ã€‚
                </p>
                <p class="fade-in-text" style="--delay:1.5s;">
                    <strong>è±éˆåœ°é»ï¼š</strong> è–é¾æœƒæ‰€ <br>
                    åœ°å€ï¼š<a href="https://www.google.com/maps/search/?api=1&query=%E8%87%BA%E5%8C%97%E5%B8%82%E5%A4%A7%E5%AE%89%E5%8D%80%E5%9F%BA%E9%9A%86%E8%B7%AF%E4%B8%89%E6%AE%B5155%E5%B7%B7128-21%E8%99%9F" target="_blank">è‡ºåŒ—å¸‚å¤§å®‰å€åŸºéš†è·¯ä¸‰æ®µ155å··128-21è™Ÿ</a>
                </p>
                <p class="fade-in-text" style="--delay:1.8s;">
                    <strong>å‡ºæ®¯åœ°é»ï¼š</strong>å°åŒ—å¸‚ç«‹æ®¯å„€é¤¨<br>
                    åœ°å€ï¼š<a href="https://www.google.com/maps/search/?api=1&query=%E8%87%BA%E5%8C%97%E5%B8%82%E5%A4%A7%E5%AE%89%E5%8D%80%E8%BE%9B%E4%BA%A5%E8%B7%AF%E4%B8%89%E6%AE%B5330%E8%99%9F" target="_blank">106è‡ºåŒ—å¸‚å¤§å®‰å€è¾›äº¥è·¯ä¸‰æ®µ330è™Ÿ</a>
                </p>
            </div>
        </section>

        <section class="paper-obituary-section">
            <h2><strong>è¨ƒå‘Šæ­£æœ¬</strong></h2>
            <img id="paper-obituary" src="image/IMG_6123.jpeg" alt="è¨ƒèç´™æœ¬" loading="lazy">
        </section>

        <div id="zoom-container">
            <img id="zoom-img" src="" alt="æ”¾å¤§æª¢è¦–">
        </div>

        <section id="remembrance">
            <h2><strong>è¿½æ€ç·¬æ‡·</strong></h2>
            <div class="remembrance-details">
                <div class="remembrance-item">
                    <h3><strong>è±éˆåœ°é»</strong></h3>
                    <p><strong>è–é¾æœƒæ‰€</strong><p>
                    <p><strong>ç‰Œä½å€</strong><p>
                    <p><strong>[ 15 ï¼½</strong></p>
                    <p><strong><a href="https://www.google.com/maps/search/?api=1&query=%E8%87%BA%E5%8C%97%E5%B8%82%E5%A4%A7%E5%AE%89%E5%8D%80%E5%9F%BA%E9%9A%86%E8%B7%AF%E4%B8%89%E6%AE%B5155%E5%B7%B7128-21%E8%99%9F" target="_blank">åœ°å€ï¼šè‡ºåŒ—å¸‚å¤§å®‰å€åŸºéš†è·¯ä¸‰æ®µ155å··128-21è™Ÿ</a></strong></p>
                </div>
                <div class="remembrance-item">
                    <h3><strong>å‡ºæ®¯åœ°é»</strong></h3>
                    <p><strong> å°åŒ—å¸‚ç«‹æ®¯å„€é¤¨ </strong></p>
                    <p><strong> æ™¯è¡Œæ¨“1F </strong></p>
                    <p><strong>  ï¼» è‡³å¿ å››å»³ ï¼½ </strong></p>
                    <p><strong><a href="https://www.google.com/maps/search/?api=1&query=%E8%87%BA%E5%8C%97%E5%B8%82%E5%A4%A7%E5%AE%89%E5%8D%80%E8%BE%9B%E4%BA%A5%E8%B7%AF%E4%B8%89%E6%AE%B5330%E8%99%9F" target="_blank">åœ°å€ï¼šè‡ºåŒ—å¸‚å¤§å®‰å€è¾›äº¥è·¯ä¸‰æ®µ330è™Ÿ</a></strong></p>
                </div>
                <div class="remembrance-item">
                    <h3><strong>å‡ºæ®¯æ—¥æœŸ</strong></h3>
                    <p><strong>2026å¹´01æœˆ04æ—¥ï¼ˆæ—¥ï¼‰</strong></p>
                </div>
                <div class="remembrance-item">
                    <h3><strong>å®¶å¥ ç¦®</strong></h3>
                    <p><strong>ä¸Šåˆ åä¸€ æ™‚  äº”å åˆ†  </strong></p>
                    <h3><strong>å…¬å¥ ç¦®</strong></h3>
                    <p><strong>ä¸Šåˆ åäºŒ æ™‚  ä¸‰å åˆ†</strong></p>
                </div>
                <div class="remembrance-item">
                    <h3><strong>è¯ç¹«é›»è©±</strong></h3>
                    <p><strong>éŒ¦æ´² ğŸ“ <a href="tel:0937-066-699">0937-066-699</a></strong></p>
                </div>
            </div>
        </section>

        <div class="map-wrapper" aria-hidden="false" role="region" aria-label="åœ°åœ–ï¼šå°åŒ—å¸‚ç«‹æ®¯å„€é¤¨">
            <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3615.118671842827!2d121.545939!3d25.031584!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3442a96931215b0b%3A0xe5a3c983d5f3d37a!2z5Y-w5Y2X5biC5Z-O6Zmi6aGM6aGM!5e0!3m2!1szh-TW!2stw!4v1700000000000"
                width="100%" 
                height="350" 
                frameborder="0" allowfullscreen
                style="border:0;" 
                allowfullscreen="" 
                loading="lazy" 
                referrerpolicy="no-referrer-when-downgrade"
                aria-label="å°åŒ—å¸‚ç«‹æ®¯å„€é¤¨åœ°åœ–">
            </iframe>
        </div>


        <section class="remembrance-thanks">
            <article>
                <p><strong>æ„Ÿè¬è¦ªå‹å€‘åœ¨é€™æ®µæ™‚é–“çš„æ…°å•èˆ‡é—œå¿ƒ</strong></p>
                <p><strong>æ‚¨çš„é—œæ‡·å’Œé¼“å‹µ</strong></p>
                <p><strong>é™ªä¼´æˆ‘å€‘åº¦éäº†é€™æ®µè‰±é›£çš„æ™‚å…‰</strong></p>
                <p><strong>æ•¬é‚€æ‚¨</strong></p>
                <p><strong>ä¸€åŒè¿½æ€é™³æœˆå¤«äºº</strong>
                <p><strong>ä¸¦å‘æ‚¨ç»ä¸Šæœ€æ·±çš„æ•¬æ„</strong></p>
                <p><strong>è¬è¬æ‚¨ï¼</strong></p>
            </article>
        </section>

        
        <div id="image-overlay"><img id="overlay-img" src="" alt=""></div>

        <section id="business-card">
            <img src="image/æœªå‘½åè¨­è¨ˆ.png" alt="ç¥¥å®‰ç”Ÿå‘½ åç‰‡" class="business-card-img" loading="lazy">
        </section>

        <section id="share-buttons">
            <h2><strong>åˆ†äº«æ­¤é é¢</strong></h2>
            <div class="share-btns">
                <a href="#" target="_blank" class="share-btn fb-share-btn" aria-label="Share on Facebook"><img src="image/fb.png" alt="Share on Facebook"></a>
                <a href="#" target="_blank" class="share-btn line-share-btn" aria-label="Share on Line"><img src="image/line.png" alt="Share on Line"></a>
            </div>
        </section>

        <div class="transport-info">
            <h2 class="title">è‡ºåŒ—å¸‚ç«‹æ‡·æ„›é¤¨</h2>
            <p class="subtitle">æ‡·æ©å°ˆè»Šï¼†åœè»Šè³‡è¨Š</p>

            <div class="image-gallery">
                <img src="image/äº¤é€š00004.GIF" alt="S31" class="gallery-img" aria-label="äº¤é€šæŒ‡å¼•" loading="lazy">
                <img src="image/äº¤é€š00005.GIF" alt="S32" class="gallery-img" aria-label="äº¤é€šæŒ‡å¼•" loading="lazy">
                <img src="image/äº¤é€š00003.GIF" alt="S33" class="gallery-img" aria-label="äº¤é€šæŒ‡å¼•" loading="lazy">
                <img src="image/äº¤é€š00002.GIF" alt="S34" class="gallery-img" aria-label="äº¤é€šæŒ‡å¼•" loading="lazy">
                <img src="image/äº¤é€š00001.GIF" alt="S35" class="gallery-img" aria-label="äº¤é€šæŒ‡å¼•" loading="lazy">
                <img src="image/äº¤é€š00007.JPG" alt="æ­è»Šè³‡è¨Š" class="gallery-img" aria-label="æ­è»Šè³‡è¨Š" loading="lazy">
                <img src="image/äº¤é€š00008.JPG" alt="äº¤é€šæŒ‡å¼•" class="gallery-img" aria-label="äº¤é€šæŒ‡å¼•" loading="lazy">
                <img src="image/äº¤é€š00009.JPG" alt="æŒ‡å¼•åœ–" class="gallery-img" aria-label="æŒ‡å¼•åœ–" loading="lazy">
                <img src="image/äº¤é€š00006.JPG" alt="åœè»Šè³‡è¨Š" class="gallery-img" aria-label="åœè»Šè³‡è¨Š" loading="lazy">
            </div>
        </div>

        <section class="funeral-attend">
            <div class="attend-header"> 
                <h2>åƒåŠ å–ªç¦®</h2>
            </div>
            <div class="attend-info">
                <p>ğŸ—“ï¸ <strong>åœ‹æ›†ï¼š</strong>2026 å¹´  01 æœˆ  04  æ—¥ï¼ˆæ—¥ï¼‰</p>
                <p>ğŸŒ™ <strong>è¾²æ›†ï¼š</strong>ä¹™å·³å¹´å†¬æœˆåå…­æ—¥</p>
                <p>ğŸ“ <strong>åœ°é»ï¼š</strong>å°åŒ—æ‡·æ„›é¤¨ è‡³å¿ å››å»³</p>
            </div>
            <div class="attend-notice">
                <h3>âš ï¸ æ³¨æ„äº‹é …</h3>
                <ul>
                    <li>è«‹è‘—æ•´é½Šã€æ¨¸ç´ æœè£ã€åŒ…é‹ï¼Œä»¥è¡¨å°Šæ•¬èˆ‡è¿½æ€ä¹‹æ„ã€‚</li>
                    <li>å„€å¼æœŸé–“è«‹å°‡æ‰‹æ©Ÿèª¿ç‚ºéœéŸ³æˆ–é—œæ©Ÿã€‚</li>
                    <li>æ®¯å„€é¤¨å…§è«‹å‹¿ã€Œå†è¦‹ã€æ°æ°ã€ï¼Œä»¥ã€Œå¹³å®‰ã€ä»£æ›¿å³å¯ã€‚</li>
                    <li>æœƒå ´é–€å£å‚™æœ‰æ·¨æ°´ï¼Œä¾†è³“å¯æ´—æ·¨å¾Œå†é›¢å ´ã€‚</li>
                    <li>è‹¥ä¾†è³“å› å®—æ•™ä¿¡ä»°ä¸æŒé¦™ï¼Œå¯èˆ‡å·¥ä½œäººå“¡ç¤ºæ„ã€‚</li>
                </ul>
            </div>
        </section>
    </main>

     <section class="reveal" style="text-align: center; margin-bottom: 80px;">
        <div style="width: 1px; height: 35px; background: linear-gradient(to bottom, var(--accent-gold), transparent); margin: 0 auto 25px;"></div>
        <p style="font-size: 14px; color: #999; letter-spacing: 2px; margin-bottom: 20px;">
            <span style="color: var(--primary-brown); font-weight: 700;">æ²»å–ªç¦®å„€è¦åŠƒï¼šé™³æŸå…ƒ ç¦®å„€å¸«</span><br>
            <span style="font-size: 11px; color: #ccc;">ç¥¥å®‰ç”Ÿå‘½æœ‰é™å…¬å¸ ï½œ å…¨ç¨‹å®ˆè­·</span>
        </p>
        <a href="https://line.me/ti/p/nZJmE8-b6X" style="display: inline-flex; align-items: center; gap: 10px; border: 1px solid #00c300; color: #00c300; padding: 10px 30px; border-radius: 50px; text-decoration: none; font-size: 14px; font-weight: 700;">
            <img src="https://upload.wikimedia.org/wikipedia/commons/4/41/LINE_logo.svg" style="width: 16px;">
            ç¦®å„€æœå‹™å…è²»è«®è©¢
        </a>
    </section>
</main>

<div class="fixed-nav">
    <a href="tel:0938179858" class="nav-item"><img src="image/24å°æ™‚å°ˆç·š.png" width="100%"></a>
    <a href="https://line.me/ti/p/nZJmE8-b6X" class="nav-item"><img src="image/è¯ç¹«line.PNG" width="100%"></a>
</div>

<div id="lb-overlay" onclick="closeLB()">
    <img src="" id="lb-img">
</div>

<footer style="padding: 160px 20px 180px; background: #fff; position: relative; text-align: center; overflow: hidden;">
    
    <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; opacity: 0.4; background-image: radial-gradient(circle at 50% 50%, rgba(166,124,82,0.1) 1px, transparent 1px); background-size: 40px 40px;"></div>
    
    <div class="footer-bg-text" style="position: absolute; top: 48%; left: 50%; font-size: 95px; letter-spacing: 8px; font-weight: 900; color: rgba(166,124,82,0.04); white-space: nowrap;">ETERNAL PEACE</div>
    <div class="footer-bg-text" style="position: absolute; top: 56%; left: 50%; font-size: 65px; letter-spacing: 15px; font-weight: 400; color: rgba(166,124,82,0.03); white-space: nowrap; animation-delay: -5s;">GRATITUDE</div>

    <div style="position: relative; z-index: 1;">
        <div style="width: 40px; height: 1.5px; background: linear-gradient(to right, transparent, var(--accent-gold), transparent); margin: 0 auto 50px;"></div>
        
        <div style="font-size: 32px; font-weight: 900; color: var(--primary-brown); letter-spacing: 20px; margin-bottom: 30px; text-indent: 20px; filter: drop-shadow(0 0 1px rgba(166,124,82,0.2));">æ„Ÿ è¬ â€§ åœ“ æ»¿</div>
        
        <p style="font-size: 16px; color: #777; line-height: 2.8; letter-spacing: 4px; max-width: 350px; margin: 0 auto 80px; font-weight: 400;">
            æ„Ÿè¬æ‰€æœ‰è¦ªå‹çš„é™ªä¼´èˆ‡é—œæ‡·<br>
            <span style="color: var(--accent-gold); font-weight: 700;">ç¿Šå‰ å¤«äºº</span> å·²åŒ–ä½œæ˜Ÿè¾°<br>
            å®ˆè­·è‘—å¥¹æœ€æ„›çš„äººå€‘
        </p>

        <div style="display: flex; flex-direction: column; align-items: center; gap: 15px; opacity: 0.6;">
            <div style="width: 60px; height: 0.5px; background: #ccc;"></div>
            <div style="letter-spacing: 4px; font-size: 11px; color: #999;">
                <span style="font-weight: 700;">ç¥¥å®‰ç”Ÿå‘½æœ‰é™å…¬å¸</span> ï½œ èª å¿ƒæœå‹™
            </div>
        </div>
        
        <p style="margin-top: 50px; font-size: 10px; color: #ddd; letter-spacing: 2px;">Â© 2025 ALL RIGHTS RESERVED.</p>
    </div>
</footer>

<script>
    // åœ–ç‰‡ Loading åµæ¸¬
    document.addEventListener("DOMContentLoaded", () => {
        const imgs = document.querySelectorAll('.img-fluid');
        imgs.forEach(img => {
            if (img.complete) img.classList.add('loaded');
            else img.onload = () => img.classList.add('loaded');
        });
    });

    // æ»‘å‹•é€²å ´
    const obs = new IntersectionObserver(es => es.forEach(e => { if(e.isIntersecting) e.target.classList.add('visible'); }), {threshold:0.1});
    document.querySelectorAll('.reveal').forEach(s => obs.observe(s));

    // éŸ³æ¨‚æ§åˆ¶
    const music = document.getElementById('bgMusic');
    const startM = () => { if(music.paused){ music.volume=0.3; music.play().catch(()=>{}); } };
    ['touchstart','click'].forEach(evt => document.addEventListener(evt, startM, {once:true}));

    // èŠ±ç±ƒé¡¯ç¤º
    function toggleF() {
        const g = document.getElementById('fGrid'), b = document.getElementById('fBtn');
        const isH = g.style.display === 'none' || g.style.display === '';
        g.style.display = isH ? 'grid' : 'none';
        b.innerText = isH ? 'æ”¶åˆèŠ±ç±ƒå¼æ¨£' : 'ç€è¦½èŠ±ç±ƒå¼æ¨£ (A-Hæ¬¾)';
    }

    // ç‡ˆç®±æ§åˆ¶
    const overlay = document.getElementById('lb-overlay'), lbImg = document.getElementById('lb-img');
    document.querySelectorAll('.clickable').forEach(img => {
        img.onclick = (e) => {
            e.stopPropagation();
            lbImg.src = img.src;
            overlay.style.display = 'flex';
            setTimeout(() => overlay.classList.add('active'), 10);
        };
    });
    function closeLB() { overlay.classList.remove('active'); setTimeout(() => overlay.style.display = 'none', 400); }

    // åŠŸèƒ½æŒ‰éˆ•
    function addToCalendar() { window.open(`https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent('ç°¡ç¿Šå‰å¤«äºº è¿½æ€å¥ ç¦®')}&dates=20260106T080000/20260106T110000&location=${encodeURIComponent('æ–°åŒ—å¸‚ç«‹æ®¯å„€é¤¨ å´‡ä»å»³')}`); }
    function shareToLine() { window.open(`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(window.location.href)}`); }
    function copyLink() { 
        const t = document.createElement('textarea'); t.value = window.location.href; document.body.appendChild(t); t.select(); document.execCommand('copy'); document.body.removeChild(t);
        alert('é€£çµå·²è¤‡è£½ã€‚');
    }
</script>

</body>


    <div id="fixed-links">
        <a href="tel:0938-179-858"><img src="image/24å°æ™‚å°ˆç·š.png" alt="24å°æ™‚æœå‹™é›»è©±" loading="lazy"></a>
        <a href="https://line.me/ti/p/nZJmE8-b6X" target="_blank"><img src="image/è¯ç¹«line.PNG" alt="LINE è¯çµ¡æˆ‘å€‘" loading="lazy"></a>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.4/js/lightbox.min.js" defer></script>

    <script>
        // -------------------------
        // 1. éŸ³è¨Šè§£é–èˆ‡æ·¡å…¥é‚è¼¯ (ä¿ç•™åŸé‚è¼¯)
        // -------------------------
        document.addEventListener('DOMContentLoaded', function () {
            const audio = document.getElementById('background-music');
            const hint = document.getElementById('audio-hint');

            audio.volume = 0;
            audio.muted = true;

            audio.play().catch(() => {
                console.log('Autoplay blocked. Waiting for user interaction...');
            });

            const savedTime = localStorage.getItem('audioCurrentTime');
            if (savedTime) {
                audio.currentTime = parseFloat(savedTime);
            }

            const wasPlaying = localStorage.getItem('audioPlaying') === 'true';

            function fadeInAudio() {
                let volume = 0;
                const targetVolume = 0.3;
                const interval = setInterval(() => {
                    if (volume < targetVolume) {
                        volume = Math.min(volume + 0.05, targetVolume);
                        audio.volume = volume;
                    } else {
                        clearInterval(interval);
                    }
                }, 200);
            }

            function unmuteAndPlay() {
                if (audio.muted) {
                    audio.muted = false;
                    fadeInAudio();
                }
                if (wasPlaying || audio.paused) {
                    audio.play().catch(err => console.log('Playback error:', err));
                }
                hint?.remove();
                removeListeners();
            }

            function removeListeners() {
                document.removeEventListener('click', unmuteAndPlay);
                document.removeEventListener('touchstart', unmuteAndPlay);
                document.removeEventListener('keydown', unmuteAndPlay);
            }

            document.addEventListener('click', unmuteAndPlay);
            document.addEventListener('touchstart', unmuteAndPlay);
            document.addEventListener('keydown', unmuteAndPlay);

            setInterval(() => {
                if (!audio.paused) {
                    localStorage.setItem('audioCurrentTime', audio.currentTime);
                }
            }, 1000);

            audio.addEventListener('play', () => localStorage.setItem('audioPlaying', 'true'));
            audio.addEventListener('pause', () => localStorage.setItem('audioPlaying', 'false'));
        });

        // -------------------------
        // 2. Life-story æ·¡å…¥æ•ˆæœ & æ„Ÿè¬ä¿¡æ¯æ·¡å…¥ (åˆä½µé‚è¼¯)
        // -------------------------
        document.addEventListener("DOMContentLoaded", () => {
            // Life-story æ·¡å…¥æ•ˆæœ
            const fadeEls = document.querySelectorAll('.fade-in-text');
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) entry.target.classList.add('visible');
                });
            });
            fadeEls.forEach(el => observer.observe(el));

            // æ„Ÿè¬ä¿¡æ¯æ·¡å…¥ (å„ªåŒ–ï¼šä½¿ç”¨å–®ç¨çš„ IntersectionObserver)
            const texts = document.querySelectorAll('.remembrance-thanks p');
            const observerThanks = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if(entry.isIntersecting){
                        // ä¾åºæ·¡å…¥
                        texts.forEach((el,i)=>setTimeout(()=>el.classList.add('visible'), i*400));
                        observerThanks.unobserve(entry.target); // åªåŸ·è¡Œä¸€æ¬¡
                    }
                });
            }, {threshold:0.1});
            if (texts.length > 0) {
                 observerThanks.observe(texts[0].parentElement);
            }
        });

        // -------------------------
        // 3. è¨ƒå‘Šç´™æœ¬é»æ“Šæ”¾å¤§ (ä½¿ç”¨ #zoom-container)
        // -------------------------
        document.addEventListener("DOMContentLoaded", () => {
            const paperImg = document.getElementById('paper-obituary');
            const zoomContainer = document.getElementById('zoom-container');
            const zoomImg = document.getElementById('zoom-img');

            // é»åœ–ç‰‡æ”¾å¤§
            paperImg.addEventListener('click', () => {
                zoomImg.src = paperImg.src;
                zoomContainer.style.display = 'flex';
                setTimeout(() => zoomContainer.classList.add('show'), 20);
            });

            // é»èƒŒæ™¯é—œé–‰
            zoomContainer.addEventListener('click', e => {
                if (e.target === zoomContainer || e.target === zoomImg) { // é»æ“Šåœ–ç‰‡æˆ–èƒŒæ™¯éƒ½é—œé–‰
                    zoomContainer.classList.remove('show');
                    setTimeout(() => zoomContainer.style.display = 'none', 400);
                }
            });

            // æŒ‰ Esc é—œé–‰
            document.addEventListener('keydown', e => {
                if (e.key === "Escape" && zoomContainer.classList.contains('show')) {
                    zoomContainer.classList.remove('show');
                    setTimeout(() => zoomContainer.style.display = 'none', 400);
                }
            });
        });

        // -------------------------
        // 4. èŠ±ç±ƒç•«å»Šå±•é–‹/éš±è—
        // -------------------------
        document.getElementById('show-flower-baskets')?.addEventListener('click', function () {
            const gallery = document.getElementById('flower-basket-gallery');
            gallery.classList.toggle('show');
            this.innerHTML = gallery.classList.contains('show') 
                ? '<strong>éš±è—èŠ±ç±ƒæ¨£å¼ ğŸŒ¹</strong>' 
                : '<strong>é¡¯ç¤ºèŠ±ç±ƒæ¨£å¼ ğŸŒ¹</strong>';
        });

        // -------------------------
        // 5. é»æ“Šæ”¾å¤§åœ–ç‰‡ (èŠ±ç±ƒ/åç‰‡/äº¤é€šåœ– - çµ±ä¸€ä½¿ç”¨ #image-overlay)
        // -------------------------
        const imageOverlay = document.getElementById('image-overlay');
        const overlayImg = document.getElementById('overlay-img');

        function setupOverlayLightbox(selector){
            document.querySelectorAll(selector).forEach(img=>{
                img.addEventListener('click', function(){
                    overlayImg.src = this.src;
                    imageOverlay.style.display = 'flex';
                });
            });
        }
        
        document.addEventListener("DOMContentLoaded", () => {
            setupOverlayLightbox('.zoomable img'); // çµ¦èŠ±ç±ƒ
            setupOverlayLightbox('.gallery-img');  // çµ¦äº¤é€šåœ–
            setupOverlayLightbox('.business-card-img'); // çµ¦åç‰‡ (åŸåç‰‡é‚è¼¯å·²ç§»é™¤ï¼Œæ”¹ç”¨æ­¤çµ±ä¸€ç‡ˆç®±)
        });

        imageOverlay.addEventListener('click', function(){ this.style.display='none'; });

        // -------------------------
        // 6. åˆ†äº«æŒ‰éˆ• URL (ç¢ºä¿ URL ä¹¾æ·¨)
        // -------------------------
        document.addEventListener("DOMContentLoaded", function () {
            let url = new URL(window.location.href);
            url.searchParams.delete("fbclid");
            url.searchParams.delete("utm_source");
            url.searchParams.delete("utm_medium");
            url.searchParams.delete("utm_campaign");
            if(url.hostname.includes("xn--")) url.hostname="24hour.å°ç£";
            let encodedUrl = encodeURIComponent(url.toString());
            document.querySelector(".fb-share-btn").href="https://www.facebook.com/sharer/sharer.php?u="+encodedUrl;
            document.querySelector(".line-share-btn").href="https://line.me/R/msg/text/?"+encodedUrl;
        });

        // -------------------------
        // 7. Footer Fit-Text é‚è¼¯ (ä¿ç•™åŸé‚è¼¯)
        // -------------------------
        (function () {
            const MAX_FONT = 22;
            const MIN_FONT = 8;
            const PRECISION = 0.2;

            function fitOne(el) {
                if (!el || !el.parentElement) return;
                const parent = el.parentElement;
                const containerWidth = parent.clientWidth;
                if (containerWidth <= 0) return;

                let low = MIN_FONT;
                let high = MAX_FONT;
                el.style.fontSize = high + "px";
                let w = el.getBoundingClientRect().width;
                if (w <= containerWidth) {
                    el.style.fontSize = high + "px";
                    return;
                }

                while (high - low > PRECISION) {
                    const mid = (low + high) / 2;
                    el.style.fontSize = mid + "px";
                    w = el.getBoundingClientRect().width;
                    if (w > containerWidth) {
                        high = mid;
                    } else {
                        low = mid;
                    }
                }
                el.style.fontSize = Math.max(MIN_FONT, low) + "px";
            }

            function fitAll() {
                const nodes = document.querySelectorAll('.footer-text .fit-text');
                nodes.forEach(el => fitOne(el));
            }

            function start() {
                fitAll();
                if (window.ResizeObserver) {
                    const ro = new ResizeObserver(() => fitAll());
                    document.querySelectorAll('.footer-info').forEach(n => ro.observe(n));
                }
                window.addEventListener('resize', debounce(fitAll, 80));
            }

            function debounce(fn, wait) {
                let t = null;
                return function () {
                    clearTimeout(t);
                    t = setTimeout(() => fn.apply(this, arguments), wait);
                };
            }

            if (document.fonts && document.fonts.ready) {
                document.fonts.ready.then(start).catch(start);
            } else {
                window.addEventListener('load', start);
            }
        })();
    </script>
</body>
</html>
